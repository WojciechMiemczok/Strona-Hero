<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero-test</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="navbar">
        <h1>HERO</h1>
        <h1>GAME</h1>
    </div>
    <div class="welcome-page">
        <img src="./images/LOGO_Join_our_story!_orgina.png" alt="logo.png">
        <h1 class="title" id="title1">CREATOR</h1>
        <h2 class="title" id="title2">PROGARAM</h2>
        <p>Create NosTale content, earn rewards and grow your channel!</p>
        <button id="join-btn">JOIN NOW!</button>
    </div>
    <div class="background"></div>
    <div class="segment-2">
        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Doloremque totam modi assumenda delectus eligendi! Eligendi
             possimus iusto dolore sint, hic modi aut harum dolorem velit cumque error repellendus quasi magnam!</p>
        <img src="./images/engel.png" alt="angel.img">
    </div>
    <div class="segment-3">
        <div class="segment-3-title">
                <h1>MADE FOR YOU!</h1>
                <p>NosTale Creator Program is made to help you do what you do best</p>
        </div>
        <div class="segment-3-conten-container">

            <div class="segment-3-content cont1">
                <img src="./images/2019-08-22_NT_SU16_Tropical_Costume_zShop_Icon_242x242_Wings.png" alt="">
                <p>Boost your content with exclusive information</p>
            </div>
            <div class="segment-3-content cont2">
                <img src="./images/image-from-rawpixel-id-12073517-png.png" alt="">
                <p>Connect with us and showcase your result</p>
            </div>
            <div class="segment-3-content cont3">
                <img src="./images/Call_To_Action_Right_FG.png" alt="">
                <p>Earn rewards for you and your viewers and connect with your community!</p>
            </div>
        </div>
    </div>
    <div class="segment-4">
        <iframe id="vimeoPlayer" title="vimeo-player" src="https://player.vimeo.com/video/1056412731?h=06f65499d3&muted=1&loop=1&controls=0" frameborder="0"    allowfullscreen></iframe>
    </div>





    







 


    <!-- gif na stronę
    https://static.crm.gfsrv.net/hero/Tileview1.gif -->
</body>

<script src="https://player.vimeo.com/api/player.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const iframe = document.getElementById("vimeoPlayer");
    const player = new Vimeo.Player(iframe);

    // Wymuszenie mute przez API
    player.setMuted(true);

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                player.getCurrentTime().then(time => {
                    if (time > 1) {  // Jeśli film już leciał, resetujemy go do początku
                        player.setCurrentTime(0).then(() => {
                            player.play().catch(error => {
                                console.warn("Autoplay zablokowane przez przeglądarkę:", error);
                            });
                        });
                    } else {
                        player.play().catch(error => {
                            console.warn("Autoplay zablokowane przez przeglądarkę:", error);
                        });
                    }
                });
            } else {
                player.pause();
            }
        });
    }, { threshold: 0 });

    observer.observe(iframe);
});






    document.addEventListener("DOMContentLoaded", () => {
    const videoContainer = document.querySelector(".segment-4");
    const video = document.getElementById("vimeoPlayer");

    window.addEventListener("scroll", () => {
        const sectionRect = videoContainer.getBoundingClientRect();
        const windowHeight = window.innerHeight;
        const scrollProgress = (windowHeight - sectionRect.top) / sectionRect.height;
        const bodyBackground = document.querySelector("body");
        console.log(scrollProgress);

        if (scrollProgress > 0.5 && scrollProgress < 0.95) {
            bodyBackground.style.backgroundColor = "black";
        } else {
            bodyBackground.style.backgroundColor = "transparent";
        }

        if (scrollProgress >= 0 && scrollProgress <= 1) {
            if (scrollProgress < 0.2) {
                video.style.transform = `scale(0.4)`;
            } else if (scrollProgress < 0.5) {
                let scale = 0.4 + ((scrollProgress - 0.2) * 2);
                video.style.transform = `scale(${scale})`;
            } else {
                video.style.transform = `scale(1)`;
            }
        }

        // Sprawdzenie, czy dolna krawędź sekcji jest poza ekranem
        if (sectionRect.bottom < windowHeight) {
            let scale = 1 - ((windowHeight - sectionRect.bottom) / sectionRect.height) * 3; // Wolniejsze zmniejszanie
            video.style.transform = `scale(${Math.max(scale, 0.4)})`;
        }
    });
});





</script>

</html>